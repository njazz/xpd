<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>XPD: Test cases and sections</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">XPD
   </div>
   <div id="projectbrief">C/C++ wrapper for PureData</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Test cases and sections </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>While Catch fully supports the traditional, xUnit, style of class-based fixtures containing test case methods this is not the preferred style.</p>
<p>Instead Catch provides a powerful mechanism for nesting test case sections within a test case. For a more detailed discussion see the <a href="tutorial.md#test-cases-and-sections">tutorial</a>.</p>
<p>Test cases and sections are very easy to use in practice:</p>
<ul>
<li><b>TEST_CASE(** <em>test name</em> [, <em>tags</em> ] **)</b></li>
<li><b>SECTION(** <em>section name</em> **)</b></li>
</ul>
<p><em>test name</em> and <em>section name</em> are free form, quoted, strings. The optional <em>tags</em> argument is a quoted string containing one or more tags enclosed in square brackets. Tags are discussed below. Test names must be unique within the Catch executable.</p>
<p>For examples see the <a href="tutorial.md">Tutorial</a></p>
<h2>Tags</h2>
<p>Tags allow an arbitrary number of additional strings to be associated with a test case. Test cases can be selected (for running, or just for listing) by tag - or even by an expression that combines several tags. At their most basic level they provide a simple way to group several related tests together.</p>
<p>As an example - given the following test cases: </p>
<pre class="fragment">TEST_CASE( "A", "[widget]" ) { /* ... */ }
TEST_CASE( "B", "[widget]" ) { /* ... */ }
TEST_CASE( "C", "[gadget]" ) { /* ... */ }
TEST_CASE( "D", "[widget][gadget]" ) { /* ... */ }
</pre><p>The tag expression, <code>"[widget]"</code> selects A, B &amp; D. <code>"[gadget]"</code> selects C &amp; D. <code>"[widget][gadget]"</code> selects just D and <code>"[widget],[gadget]"</code> selects all four test cases.</p>
<p>For more detail on command line selection see <a href="command-line.md#specifying-which-tests-to-run">the command line docs</a></p>
<p>Tag names are not case sensitive and can contain any ASCII characters. This means that tags <code>[tag with spaces]</code> and <code>[I said "good day"]</code> are both allowed tags and can be filtered on. Escapes are not supported however and <code>[\]]</code> is not a valid tag.</p>
<h3>Special Tags</h3>
<p>All tag names beginning with non-alphanumeric characters are reserved by Catch. Catch defines a number of "special" tags, which have meaning to the test runner itself. These special tags all begin with a symbol character. Following is a list of currently defined special tags and their meanings.</p>
<ul>
<li><code>[!hide]</code> or <code>[.]</code> (or, for legacy reasons, <code>[hide]</code>) - causes test cases to be skipped from the default list (i.e. when no test cases have been explicitly selected through tag expressions or name wildcards). The hide tag is often combined with another, user, tag (for example <code>[.][integration]</code> - so all integration tests are excluded from the default run but can be run by passing <code>[integration]</code> on the command line). As a short-cut you can combine these by simply prefixing your user tag with a <code>.</code> - e.g. <code>[.integration]</code>. Because the hide tag has evolved to have several forms, all forms are added as tags if you use one of them.</li>
<li><code>[!throws]</code> - lets Catch know that this test is likely to throw an exception even if successful. This causes the test to be excluded when running with <code>-e</code> or <code>--nothrow</code>.</li>
<li><code>[!mayfail]</code> - doesn't fail the test if any given assertion fails (but still reports it). This can be useful to flag a work-in-progress, or a known issue that you don't want to immediately fix but still want to track in the your tests.</li>
<li><code>[!shouldfail]</code> - like <code>[!mayfail]</code> but <em>fails</em> the test if it <em>passes</em>. This can be useful if you want to be notified of accidental, or third-party, fixes.</li>
<li><code>[!nonportable]</code> - Indicates that behaviour may vary between platforms or compilers.</li>
<li><code>[#&lt;filename&gt;]</code> - running with <code>-#</code> or <code>--filenames-as-tags</code> causes Catch to add the filename, prefixed with <code>#</code> (and with any extension stripped) as a tag. e.g. tests in testfile.cpp would all be tagged <code>[#testfile]</code>.</li>
<li><code>[@&lt;alias&gt;]</code> - tag aliases all begin with <code>@</code> (see below).</li>
</ul>
<h2>Tag aliases</h2>
<p>Between tag expressions and wildcarded test names (as well as combinations of the two) quite complex patterns can be constructed to direct which test cases are run. If a complex pattern is used often it is convenient to be able to create an alias for the expression. this can be done, in code, using the following form: </p>
<pre class="fragment">CATCH_REGISTER_TAG_ALIAS( &lt;alias string&gt;, &lt;tag expression&gt; )
</pre><p>Aliases must begin with the <code>@</code> character. An example of a tag alias is: </p>
<pre class="fragment">CATCH_REGISTER_TAG_ALIAS( "[@nhf]", "[failing]~[.]" )
</pre><p>Now when <code>[@nhf]</code> is used on the command line this matches all tests that are tagged <code>[failing]</code>, but which are not also hidden.</p>
<h2>BDD-style test cases</h2>
<p>In addition to Catch's take on the classic style of test cases, Catch supports an alternative syntax that allow tests to be written as "executable specifications" (one of the early goals of <a href="http://dannorth.net/introducing-bdd/">Behaviour Driven Development</a>). This set of macros map on to <code>TEST_CASE</code>s and <code>SECTION</code>s, with a little internal support to make them smoother to work with.</p>
<ul>
<li><b>SCENARIO(** <em>scenario name</em> [, <em>tags</em> ] **)</b></li>
</ul>
<p>This macro maps onto <code>TEST_CASE</code> and works in the same way, except that the test case name will be prefixed by "Scenario: "</p>
<ul>
<li><b>GIVEN(** <em>something</em> **)</b></li>
<li><b>WHEN(** <em>something</em> **)</b></li>
<li><b>THEN(** <em>something</em> **)</b></li>
</ul>
<p>These macros map onto <code>SECTION</code>s except that the section names are the _something_s prefixed by "given: ", "when: " or "then: " respectively.</p>
<ul>
<li><b>AND_WHEN(** <em>something</em> **)</b></li>
<li><b>AND_THEN(** <em>something</em> **)</b></li>
</ul>
<p>Similar to <code>WHEN</code> and <code>THEN</code> except that the prefixes start with "and ". These are used to chain <code>WHEN</code>s and <code>THEN</code>s together.</p>
<p>When any of these macros are used the console reporter recognises them and formats the test case header such that the Givens, Whens and Thens are aligned to aid readability.</p>
<p>Other than the additional prefixes and the formatting in the console reporter these macros behave exactly as <code>TEST_CASE</code>s and <code>SECTION</code>s. As such there is nothing enforcing the correct sequencing of these macros - that's up to the programmer! </p>
<hr/>
<p><a href="Readme.md">Home</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 25 2018 17:46:48 for XPD by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
